---
title: 模块循环引用
date: 2019-04-10 16:20:59
tags: JS
categories: 基础原理
---

前端模块化

### 看一个栗子

在 node 环境下，a 加载了 b，而 b 又加载了 a。这种情况下，会出现什么效果呢？
```javascript
// a.js
exports.x = 'a1';
console.log('a.js ', require('./b.js').x);
exports.x = 'a2';

// b.js
exports.x = 'b1';
console.log('b.js ', require('./a.js').x);
exports.x = 'b2';

// main.js
console.log('main.js ', require('./a.js').x);
console.log('main.js ', require('./b.js').x);
```